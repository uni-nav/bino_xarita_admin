# ============================================================
# Bino Xarita Admin - Environment Configuration (Backend Only)
# ============================================================
# Ishlatish: cp .env.example .env va kerakli qiymatlarni o'zgartiring
# Frontend Netlify'da alohida deploy qilinadi
# ============================================================

# ========================
# ENVIRONMENT MODE
# ========================
# development | staging | production
ENV=development
DEBUG=true

# ========================
# DATABASE
# ========================
# Docker uchun DB_HOST=db, lokal uchun DB_HOST=localhost
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432
DB_NAME=university_nav
DATABASE_URL=postgresql://postgres:postgres@db:5432/university_nav

# ========================
# SECURITY (PRODUCTION DA ALBATTA O'ZGARTIRING!)
# ========================
# Yangi key yaratish: python -c "import secrets; print(secrets.token_urlsafe(32))"

# Umumiy shifrlash kaliti (kamida 32 belgi)
SECRET_KEY=your-secret-key-min-32-chars-change-in-production

# JWT tokenlari uchun (SECRET_KEY dan farqli bo'lsin)
JWT_SECRET_KEY=your-jwt-secret-key-min-32-chars-different-from-SECRET_KEY
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Admin token (legacy, JWT ga o'tilmoqda)
ADMIN_TOKEN=your-secure-admin-token-min-32-chars

# Admin foydalanuvchi
ADMIN_USERNAME=admin
# Hash yaratish: python scripts/create_admin.py
ADMIN_PASSWORD_HASH=

# ========================
# LOGIN HIMOYASI
# ========================
LOGIN_RATE_LIMIT_PER_MINUTE=10
LOGIN_MAX_FAILED_ATTEMPTS=5
LOGIN_FAILURE_WINDOW_SECONDS=900
LOGIN_LOCK_SECONDS=300

# ========================
# FILE UPLOAD
# ========================
UPLOAD_DIR=uploads
MAX_UPLOAD_MB=15

# ========================
# CORS
# ========================
# Ruxsat berilgan originlar (vergul bilan ajratilgan)
# TODO: Netlify domain qo'shing, masalan: https://your-app.netlify.app
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8080

# ========================
# DOCKER COMPOSE PORTS
# ========================
API_PORT=8000

# ========================
# RESOURCE LIMITS (Docker)
# ========================
# Database
DB_CPUS=1.0
DB_MEM_LIMIT=1024m
DB_MEM_RESERVATION=256m
DB_PIDS_LIMIT=200
DB_SHM_SIZE=256m

# API
API_CPUS=1.5
API_MEM_LIMIT=1024m
API_MEM_RESERVATION=256m
API_PIDS_LIMIT=300

# Gunicorn (production)
WEB_CONCURRENCY=2

# Log rotation
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3
